# Malware-Detection

## 技术栈

前端：vue-cli4

后端：flask

数据库：mysql8

## 运行指令

1. `mysql` 中 `create database maleware`创建数据库 

2. `be/config.py` 中修改 `mysql` 的用户名及密码

3. 在 `be` 目录下依次执行，初始化数据库

    `python manage.py db init`

   `python manage.py db migrate -m "init"`

   `python manage.py db upgrade`

4. 在 `be` 目录下执行 `python manage.py runserver` 启动后端服务

5. 在 `fe` 目录下执行 `npm install` 安装依赖

6. 在 `fe` 目录下执行 `npm run serve` 启动前端服务

7. 在浏览器中打开网址 `http://127.0.0.1:8084`



### 注意

1. 在 `be` 中可能要按照提示安装第三方包如 `flask_script`, `sqlalchemy`, `redis` 等。可以通过 `pip install xxx` 安装

2. 在 `fe` 中根据提示使用 `npm install xxx` 安装依赖



## 开发规则

### 前端

1. 所有发送 `POST` 请求前要先请求 `csrf_token`。例如`fe/src/views/Home.vue` 221 行的 `await this.initCSRF();`。 会调用  `initCSRF` 和 `getCookie` 函数，后续可以将此二函数抽取因为很多文件都用到。`getCookie` 函数返回的 `csrf_token`，要携带在 `POST` 请求中。
2. Vue 过滤器都在 `fe/src/filters` 中，每一个 js 文件为一个过滤器，在 `index.js` 中导入后可以全局使用

3. 跨域设置在前端的 `vue.config.js` 中



### 后端

1. `be/config.py` 为配置文件，修改数据库的用户名及密码
2. `be/malware/api_1_0` 中为各个模块的接口文件，如 `admin.py` 为后台管理模块接口、`index.py` 为文件处理模块接口，`passport.py` 为用户登陆等操作的接口，开发者可以进一步进行模块划分。创建一个新的模块接口文件后要在 `be/malware/api_1_0/__init__.py` 中导入。

3. 后端的时间戳是 `datetime` 内置模块生成的，转换为前端模块时间戳需要乘以1000

   

# 联系方式

邮箱：1966710331@qq.com

电话：+8618800124007
