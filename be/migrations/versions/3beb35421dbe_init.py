"""init

Revision ID: 3beb35421dbe
Revises: 
Create Date: 2021-05-03 00:08:17.767339

"""
from alembic import op
import sqlalchemy as sa


# revision identifiers, used by Alembic.
revision = '3beb35421dbe'
down_revision = None
branch_labels = None
depends_on = None


def upgrade():
    # ### commands auto generated by Alembic - please adjust! ###
    op.create_table('file',
    sa.Column('create_time', sa.DateTime(), nullable=True),
    sa.Column('update_time', sa.DateTime(), nullable=True),
    sa.Column('filename', sa.String(length=255), nullable=True),
    sa.Column('filesize', sa.Integer(), nullable=True),
    sa.Column('subsystem', sa.String(length=20), nullable=True),
    sa.Column('magic', sa.String(length=15), nullable=True),
    sa.Column('ma_i_v', sa.Integer(), nullable=True),
    sa.Column('mi_i_v', sa.Integer(), nullable=True),
    sa.Column('ma_l_v', sa.Integer(), nullable=True),
    sa.Column('mi_l_v', sa.Integer(), nullable=True),
    sa.Column('ma_os_v', sa.Integer(), nullable=True),
    sa.Column('mi_os_v', sa.Integer(), nullable=True),
    sa.Column('ma_s_v', sa.Integer(), nullable=True),
    sa.Column('mi_s_v', sa.Integer(), nullable=True),
    sa.Column('sizeof_c', sa.Integer(), nullable=True),
    sa.Column('sizeof_h', sa.Integer(), nullable=True),
    sa.Column('sizeof_hc', sa.Integer(), nullable=True),
    sa.Column('timestamp', sa.Integer(), nullable=True),
    sa.Column('machine', sa.String(length=15), nullable=True),
    sa.Column('md5', sa.String(length=255), nullable=False),
    sa.Column('status', sa.Enum('safe', 'unsafe'), nullable=False),
    sa.Column('user', sa.String(length=255), nullable=True),
    sa.Column('count', sa.Integer(), nullable=True),
    sa.PrimaryKeyConstraint('md5')
    )
    op.create_table('user',
    sa.Column('create_time', sa.DateTime(), nullable=True),
    sa.Column('update_time', sa.DateTime(), nullable=True),
    sa.Column('username', sa.String(length=255), nullable=True),
    sa.Column('password', sa.String(length=255), nullable=True),
    sa.Column('email', sa.String(length=255), nullable=False),
    sa.PrimaryKeyConstraint('email')
    )
    op.create_table('characteristics',
    sa.Column('create_time', sa.DateTime(), nullable=True),
    sa.Column('update_time', sa.DateTime(), nullable=True),
    sa.Column('id', sa.Integer(), nullable=False),
    sa.Column('name', sa.String(length=255), nullable=True),
    sa.Column('md5', sa.String(length=50), nullable=True),
    sa.ForeignKeyConstraint(['md5'], ['file.md5'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_table('comctl',
    sa.Column('create_time', sa.DateTime(), nullable=True),
    sa.Column('update_time', sa.DateTime(), nullable=True),
    sa.Column('id', sa.Integer(), nullable=False),
    sa.Column('name', sa.String(length=255), nullable=True),
    sa.Column('md5', sa.String(length=50), nullable=True),
    sa.ForeignKeyConstraint(['md5'], ['file.md5'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_table('dll_characteristics',
    sa.Column('create_time', sa.DateTime(), nullable=True),
    sa.Column('update_time', sa.DateTime(), nullable=True),
    sa.Column('id', sa.Integer(), nullable=False),
    sa.Column('name', sa.String(length=255), nullable=True),
    sa.Column('md5', sa.String(length=50), nullable=True),
    sa.ForeignKeyConstraint(['md5'], ['file.md5'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_table('gdi',
    sa.Column('create_time', sa.DateTime(), nullable=True),
    sa.Column('update_time', sa.DateTime(), nullable=True),
    sa.Column('id', sa.Integer(), nullable=False),
    sa.Column('name', sa.String(length=255), nullable=True),
    sa.Column('md5', sa.String(length=50), nullable=True),
    sa.ForeignKeyConstraint(['md5'], ['file.md5'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_table('iphlpapi',
    sa.Column('create_time', sa.DateTime(), nullable=True),
    sa.Column('update_time', sa.DateTime(), nullable=True),
    sa.Column('id', sa.Integer(), nullable=False),
    sa.Column('name', sa.String(length=255), nullable=True),
    sa.Column('md5', sa.String(length=50), nullable=True),
    sa.ForeignKeyConstraint(['md5'], ['file.md5'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_table('kernel',
    sa.Column('create_time', sa.DateTime(), nullable=True),
    sa.Column('update_time', sa.DateTime(), nullable=True),
    sa.Column('id', sa.Integer(), nullable=False),
    sa.Column('name', sa.String(length=255), nullable=True),
    sa.Column('md5', sa.String(length=50), nullable=True),
    sa.ForeignKeyConstraint(['md5'], ['file.md5'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_table('msvcrt',
    sa.Column('create_time', sa.DateTime(), nullable=True),
    sa.Column('update_time', sa.DateTime(), nullable=True),
    sa.Column('id', sa.Integer(), nullable=False),
    sa.Column('name', sa.String(length=255), nullable=True),
    sa.Column('md5', sa.String(length=50), nullable=True),
    sa.ForeignKeyConstraint(['md5'], ['file.md5'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_table('ole',
    sa.Column('create_time', sa.DateTime(), nullable=True),
    sa.Column('update_time', sa.DateTime(), nullable=True),
    sa.Column('id', sa.Integer(), nullable=False),
    sa.Column('name', sa.String(length=255), nullable=True),
    sa.Column('md5', sa.String(length=50), nullable=True),
    sa.ForeignKeyConstraint(['md5'], ['file.md5'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_table('sections',
    sa.Column('create_time', sa.DateTime(), nullable=True),
    sa.Column('update_time', sa.DateTime(), nullable=True),
    sa.Column('id', sa.Integer(), nullable=False),
    sa.Column('name', sa.String(length=10), nullable=True),
    sa.Column('size', sa.Integer(), nullable=True),
    sa.Column('vsize', sa.Integer(), nullable=True),
    sa.Column('md5', sa.String(length=50), nullable=True),
    sa.ForeignKeyConstraint(['md5'], ['file.md5'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_table('shell',
    sa.Column('create_time', sa.DateTime(), nullable=True),
    sa.Column('update_time', sa.DateTime(), nullable=True),
    sa.Column('id', sa.Integer(), nullable=False),
    sa.Column('name', sa.String(length=255), nullable=True),
    sa.Column('md5', sa.String(length=50), nullable=True),
    sa.ForeignKeyConstraint(['md5'], ['file.md5'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_table('snmpapi',
    sa.Column('create_time', sa.DateTime(), nullable=True),
    sa.Column('update_time', sa.DateTime(), nullable=True),
    sa.Column('id', sa.Integer(), nullable=False),
    sa.Column('name', sa.String(length=255), nullable=True),
    sa.Column('md5', sa.String(length=50), nullable=True),
    sa.ForeignKeyConstraint(['md5'], ['file.md5'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_table('user_file',
    sa.Column('create_time', sa.DateTime(), nullable=True),
    sa.Column('update_time', sa.DateTime(), nullable=True),
    sa.Column('id', sa.Integer(), nullable=False),
    sa.Column('md5', sa.String(length=255), nullable=True),
    sa.Column('email', sa.String(length=255), nullable=True),
    sa.Column('count', sa.Integer(), nullable=True),
    sa.Column('uploadorsearch', sa.String(length=10), nullable=True),
    sa.Column('exist', sa.String(length=10), nullable=True),
    sa.Column('pe_time', sa.Float(), nullable=True),
    sa.Column('check_time', sa.Float(), nullable=True),
    sa.ForeignKeyConstraint(['email'], ['user.email'], ),
    sa.ForeignKeyConstraint(['md5'], ['file.md5'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_table('usersaner',
    sa.Column('create_time', sa.DateTime(), nullable=True),
    sa.Column('update_time', sa.DateTime(), nullable=True),
    sa.Column('id', sa.Integer(), nullable=False),
    sa.Column('name', sa.String(length=255), nullable=True),
    sa.Column('md5', sa.String(length=50), nullable=True),
    sa.ForeignKeyConstraint(['md5'], ['file.md5'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_table('ws',
    sa.Column('create_time', sa.DateTime(), nullable=True),
    sa.Column('update_time', sa.DateTime(), nullable=True),
    sa.Column('id', sa.Integer(), nullable=False),
    sa.Column('name', sa.String(length=255), nullable=True),
    sa.Column('md5', sa.String(length=50), nullable=True),
    sa.ForeignKeyConstraint(['md5'], ['file.md5'], ),
    sa.PrimaryKeyConstraint('id')
    )
    # ### end Alembic commands ###


def downgrade():
    # ### commands auto generated by Alembic - please adjust! ###
    op.drop_table('ws')
    op.drop_table('usersaner')
    op.drop_table('user_file')
    op.drop_table('snmpapi')
    op.drop_table('shell')
    op.drop_table('sections')
    op.drop_table('ole')
    op.drop_table('msvcrt')
    op.drop_table('kernel')
    op.drop_table('iphlpapi')
    op.drop_table('gdi')
    op.drop_table('dll_characteristics')
    op.drop_table('comctl')
    op.drop_table('characteristics')
    op.drop_table('user')
    op.drop_table('file')
    # ### end Alembic commands ###
